<!-- Copyright 2014 Google Inc. All Rights Reserved. -->

<!--
The bitmapper-toolpanel Polymer element encapsulates the panel of tool buttons,
including pencil, brush, bucket, pipette, select and erase.

`tools` is a map of objects. When assigned, if there is a 'defaultTool' key, it
is set as the 'activeTool'.
`activeTool` is the object from `tools` associated with the most recently
selected tool icon.

@element bitmapper-toolpanel
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-icons/editor-icons.html">
<link rel="import" href="../bower_components/core-icons/image-icons.html">
<link rel="import" href="../bower_components/core-selector/core-selector.html">
<link rel="import"
  href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/font-roboto/roboto.html">

<polymer-element name="bitmapper-toolpanel" attributes="tools activeTool">
  <template>
    <style>
    :host {
      display: block;
      margin-top: 15px;
      margin-bottom: 15px;
      position: relative;
    }
    .tools {
      color: white;
      display: flex;
      flex-wrap: wrap;
    }
    paper-icon-button {
      background: #363636;
      border-radius: 40px;
      cursor: pointer;
      margin: 5px;
    }
    .core-selected {
      border: 2px #26A69A solid;
      margin: 3px;
    }
    </style>

    <!-- Clear selectedAttribute to prevent
        background color changing when "active". -->
    <core-selector class="tools" selected="0" selectedAttribute="">
      <paper-icon-button
          icon="image:edit"
          title="Pencil"
          name="pencilTool">
      </paper-icon-button>
      <paper-icon-button
          icon="image:brush"
          title="Brush"
          name="brushTool">
      </paper-icon-button>
      <paper-icon-button
          icon="editor:format-color-fill"
          title="Bucket Fill"
          name="bucketTool">
      </paper-icon-button>
      <paper-icon-button
          icon="image:colorize"
          title="Color Picker"
          name="pipetteTool">
      </paper-icon-button>
      <paper-icon-button
          icon="image:crop-free"
          title="Selection Tool"
          name="selectionTool">
      </paper-icon-button>
      <paper-icon-button
          icon="editor:format-color-reset"
          title="Eraser Tool"
          name="eraserTool">
      </paper-icon-button>
    </core-selector>
  </template>

  <script>
    Polymer('bitmapper-toolpanel', {
      created: function() {
        this.tools = {};
      },
      activeToolChanged: function(oldVal, newVal) {},
      toolsChanged: function(oldVal, newVal) {
        this.activeTool = newVal['defaultTool'];
      },
    });
  </script>
</polymer-element>
